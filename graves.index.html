<!DOCTYPE html>
<html>
  <head>
    <title>Green Wood</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      .images{
        width: 90px;
        height: 90px;
      }

    </style>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>

    <script>
    $(document).ready(function(){

 //test
    // $(function () {
      var map;


      //sample photo object
      // var photos = [
      //   {
      //     "lat":1234,
      //     "lon":2345,
      //     "title":"photo title",
      //     "image":"http://photo url"
      //   },
      //   {
      //     "lat":1234,
      //     "lon":2345,
      //     "title":"photo title",
      //     "image":"http://photo url"
      //   }
      // ]


      // var instagramMarkers = function(photos) {
      //   var markers = [];
      //   var locations = [];
      //   var markerOptions = [];

      //   for(var i=0; i<photos.length; i++) {

      //     locations[i] = new google.maps.LatLng(photos[i].lat, photos[i].lon);
      //     markerOptions[i] = {
      //       position: locations[i],
      //       map: map,
      //       title: photos[i].title,
      //       icon: photos[i].image
      //     };

      //     markers[i] = new google.maps.Marker(markerOptions[i]);
      //   }

      // }


      $.getJSON('http://cooper-union-instagram-proxy.herokuapp.com/search/tag/greenwoodcemetery', function(response){  

      //begin instagram JSON
      
          console.log(response);//generates array of objects that are recent instagram posts
          var img = [];
          for(var i=0; i<response.length; i++) {
                  img.push(response[i].images.thumbnail.url);
                  var gravesite = img;
          };
          console.log(gravesite);//generates array of picture urls on instagram

          //instagramMarkers(photos);

          drawMap(gravesite);

     var photos = [ 
        {
          "lat":40.652855, 
          "lon":-73.993740,
          "title":"visitor Pics",
          "image":gravesite[0] //references array named gravesite
        },
        {
          "lat":40.652477, 
          "lon":-73.999899,
          "title":"Visitor Pics",
          "image":gravesite[1]
        },
        {
          "lat":40.652855, 
          "lon":-73.993740,
          "title":"visitor Pics",
          "image":gravesite[2]
        },
        {
          "lat":40.653458,  
          "lon":-73.999212,
          "title":"visitor Pics",
          "image":gravesite[3]
        },
        {
          "lat":40.654654,  
          "lon":-73.995790,
          "title":"visitor Pics",
          "image":gravesite[4]
        },
        {
          "lat":40.652054,  
          "lon":-73.996530,
          "title":"visitor Pics",
          "image":gravesite[5]
        },{
          "lat":40.650711,  
          "lon":-73.995704,
          "title":"visitor Pics",
          "image":gravesite[6]
        },{
          "lat":40.656482, 
          "lon":-73.994802,
          "title":"visitor Pics",
          "image":gravesite[7]
        },{
          "lat":40.657565,  
          "lon": -73.991315,
          "title":"visitor Pics",
          "image":gravesite[8]
        },{
          "lat":40.657972, 
          "lon":-73.988612,
          "title":"visitor Pics",
          "image":gravesite[9]
        }
      ]

        var instagramMarkers = function(photos) {
            var markers = [];
            var locations = [];
            var markerOptions = [];

        //creates a marker that can be applied to all photos in array
        for(var i=0; i<photos.length; i++) {
          locations[i] = new google.maps.LatLng(photos[i].lat, photos[i].lon);
          markerOptions[i] = {
            position: locations[i],
            map: map,
            title: photos[i].title,
            icon: photos[i].image
          };

          markers[i] = new google.maps.Marker(markerOptions[i]);
        }

         instagramMarkers(photos);

      }

    });//close instagram JSON, seems like info in here cannot be accessed after this point

    
      // var drawMap = function(data) {
      //   console.log(data);
      // }


      var drawMap = function(data) {
        var mapOptions = {
          zoom: 16,
          center: new google.maps.LatLng(40.652842, -73.987517)
        }; 

        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);

        var myLatlng = new google.maps.LatLng(40.652842, -73.987517);
        
        //Peter Cooper
          var position = new google.maps.LatLng(40.652842, -73.987517);

          var markerOptions = {
              position: position,
              map: map,
              title:"Here Lies Peter Cooper",
              icon: 'pcooper.png'
          };

          // To add the marker to the map, use the 'map' property
          var marker = new google.maps.Marker(markerOptions);
        
        //Green Wood Entrance
          var entrancePosition = new google.maps.LatLng(40.658115, -73.994606); //needs to be position for var??
          
          var entranceMarkerOptions = {
              position: entrancePosition,
              map: map,
              title:"Welcome to Greenwood",
             icon: 'greenwoodgates.png'
          };

          var entranceMarker = new google.maps.Marker(entranceMarkerOptions);

          
      var marker = new google.maps.Marker(hgeorgeMarkerOptions);
        //HGeorge
         var HGeorge = new google.maps.LatLng(40.652755, -73.983924);
          var hgeorgeMarkerOptions = {
              position: HGeorge,
              map: map,
              title:"Here Lies Henry George",
              icon: 'hgeorge.png'
          };
         
         var hgeorgeMarker = new google.maps.Marker(hgeorgeMarkerOptions);
    
      
      var marker = new google.maps.Marker(aduryeeMarkerOptions);
        
         var ADuryee = new google.maps.LatLng(40.652701, -73.988712);
          var aduryeeMarkerOptions = {
              position: ADuryee,
              map: map,
              title:"Here Lies Abram Duryee",
              icon: 'aduryee.png'
          };
         
       var aduryeeMarker = new google.maps.Marker(aduryeeMarkerOptions);
   
      var marker = new google.maps.Marker(hchadwickMarkerOptions);
      
         var HChadwick = new google.maps.LatLng(40.657720, -73.986290);
          var hchadwickMarkerOptions = {
              position: HChadwick,
              map: map,
              title:"Here Lies Henry Chadwick",
              icon: 'Chadwick.png'
          };
        
       var hchadwickMarker = new google.maps.Marker(hchadwickMarkerOptions); 
     
      var marker = new google.maps.Marker(cebbetsMarkerOptions);
        
         var CEbbets = new google.maps.LatLng(40.652755,  -73.986291);
          var cebbetsMarkerOptions = {
              position: CEbbets,
              map: map,
              title:"Charles Ebbets",
              icon: 'ebbets.png'
          };

        var cebbetsMarker = new google.maps.Marker(cebbetsMarkerOptions)

          //test instagram imgs
          
    //        var marker = new google.maps.Marker(instagram1MarkerOptions);
       
    //      var Instagram1 = new google.maps.LatLng(40.653596, -73.995999);
    //       var instagram1MarkerOptions = {
    //           position: Instagram1,
    //           map: map,
    //           title:"Visitor Pics",
    //           icon: gravesite[0], 

       //can't get "gravesite" to link to array of image urls from instagram

    //       };

    // var instagram1Marker = new google.maps.Marker(instagram1MarkerOptions)

      //example below of what the page is intended to display by referencing urls from instagram API and placing them on map
var marker = new google.maps.Marker(instagram2MarkerOptions);
        //starbucks
         var Instagram2 = new google.maps.LatLng(40.652855, 
          -73.993740);
          var instagram2MarkerOptions = {
              position: Instagram2,
              map: map,
              title:"Visitor Pics",
              icon: 'http://scontent-b.cdninstagram.com/hphotos-xfp1/t51.2885-15/891520_759422167468775_1166122898_s.jpg',

          };

        var instagram2Marker = new google.maps.Marker(instagram2MarkerOptions)

        var marker = new google.maps.Marker(instagram3MarkerOptions);
       
         var Instagram3 = new google.maps.LatLng(40.648924, -73.992217);
          var instagram3MarkerOptions = {
              position: Instagram3,
              map: map,
              title:"Visitor Pics",
              icon: "http://scontent-b.cdninstagram.com/hphotos-xaf1/t51.2885-15/10852968_985968931436848_720908832_s.jpg",

          };

        var instagram3Marker = new google.maps.Marker(instagram3MarkerOptions)

        var marker = new google.maps.Marker(instagram4MarkerOptions);
        
         var Instagram4 = new google.maps.LatLng(40.657972,-73.988612);
          var instagram4MarkerOptions = {
              position: Instagram4,
              map: map,
              title:"Visitor Pics",
              icon: "http://scontent-a.cdninstagram.com/hphotos-xaf1/t5…885-15/10865115_1580477768848786_1970098485_s.jpg",

          };

        var instagram4Marker = new google.maps.Marker(instagram4MarkerOptions)

        var marker = new google.maps.Marker(instagram5MarkerOptions);
       
         var Instagram5 = new google.maps.LatLng(40.650711,-73.995704);
          var instagram5MarkerOptions = {
              position: Instagram5,
              map: map,
              title:"Visitor Pics",
              icon: "http://scontent-b.cdninstagram.com/hphotos-xfa1/t5…885-15/10818113_1594977287399203_1684750874_s.jpg",

          };

        var instagram5Marker = new google.maps.Marker(instagram5MarkerOptions)
  
      }//end draw map
    }); //end jquery
 
   


    </script>
  </head>
  <body>
       <div id="map-canvas"></div>
  </body>
</html>